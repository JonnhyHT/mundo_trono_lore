<!DOCTYPE html>
<html lang="es">
    <head>
        <meta name="viewport" content="width=device-width initial-scale=1.0">
        <meta charset="UTF-8">
        <title>Vanguardia de michis</title>
        <link rel="stylesheet" href="css/reset.css">
        <link rel="stylesheet" href="css/incursiones.css">
        <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    </head>
    <body>
        <div id="captura">
            <h1>⚡ Vanguardia de michis ⚡</h1>
            <div class="emoji-group">
                <h2>♨️ ACTIVIDAD: <input type="text" id="actividad" placeholder="Actividad"></h2>
                <p>Hora y fecha: <input type="text" id="horafecha" placeholder="Hora y fecha"></p>
            </div>
            <div class="emoji-group">
                <div class="section-title">Líder de escuadra</div>
                <div class="emoji-item">🐱<input type="text" id="lider" placeholder="Nombre del líder"></div>
            </div>
            <div class="emoji-group">
                <div class="section-title">Titulares</div>
                <div class="emoji-item">🐱<input type="text" id="titular1" placeholder="Titular 1"></div>
                <div class="emoji-item">🐱<input type="text" id="titular2" placeholder="Titular 2"></div>
                <div class="emoji-item">🐱<input type="text" id="titular3" placeholder="Titular 3"></div>
                <div class="emoji-item">🐱<input type="text" id="titular4" placeholder="Titular 4"></div>
                <div class="emoji-item">🐱<input type="text" id="titular5" placeholder="Titular 5"></div>
            </div>
            <div class="emoji-group">
                <div class="section-title">Suplentes</div>
                <div class="emoji-item">🐶<input type="text" id="suplente1" placeholder="Suplente 1"></div>
                <div class="emoji-item">🐶<input type="text" id="suplente2" placeholder="Suplente 2"></div>
                <div class="emoji-item">🐶<input type="text" id="suplente3" placeholder="Suplente 3"></div>
            </div>
            <div class="emoji-group">
                <p>Medio por el cual se comunicarán: <strong>Discord Gatiza</strong></p>
            </div>
        </div>
        <div class="buttons">
            <button onclick="guardar()">💾 Guardar</button>
            <button onclick="cargar()">🔄 Cargar</button>
            <button onclick="borrar()">🗑️ Borrar</button>
            <button onclick="capturar()">📸 Capturar como imagen</button>
        </div>
        <script>
            const campos = ['actividad', 'horafecha', 'lider', 'titular1', 'titular2', 'titular3', 'titular4', 'titular5', 'suplente1', 'suplente2', 'suplente3'];
            function guardar() {
                campos.forEach(id => {
                    const valor = document.getElementById(id).value;
                    localStorage.setItem(id, valor);
                });
                alert('✅ Datos guardados');
            }
            function cargar() {
                campos.forEach(id => {
                    const valor = localStorage.getItem(id);
                    if (valor !== null) {
                    document.getElementById(id).value = valor;
                    }
                });
            }
            function borrar() {
                if (confirm("¿Borrar todos los datos?")) {
                campos.forEach(id => {
                    localStorage.removeItem(id);
                    document.getElementById(id).value = "";
                });
                alert('❌ Datos borrados');
                }
            }
            function capturar() {
                html2canvas(document.querySelector("#captura")).then(canvas => {
                    canvas.toBlob(function(blob) {
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement("a");
                        link.href = url;
                        link.download = "vanguardia-michis.png";
                        link.click();
                        alert("✅ Imagen descargada. Ahora puedes compartirla por WhatsApp.");
                    });
                });
            }
            window.onload = cargar;
        </script>
    </body>
</html>
